<app-navbar-admin></app-navbar-admin>

<div [formGroup]="validateForm" style="margin-left: 15rem; margin-right: 15rem; border: 1px solid #cbd5e0; font-family: 'GTPressura';">
    <div *ngIf="!showForm"> 
    <div style="padding: 1rem; margin-left: 4px;">
      <h1 style="font-size: 1.875rem; font-weight: bold; padding-bottom: .5rem;">Update Schedule</h1>
      <p style="margin-left: .5rem; font-size: x-large; padding-bottom: 1rem;">Select the Employee you want to update schedule.</p>
      <nz-select
      formControlName="selectedUser"
      (nzScrollToBottom)="loadMore()"
      nzPlaceHolder="Select Employee"
      nzAllowClear
      [nzDropdownRender]="renderTemplate"
    >
      <nz-option *ngFor="let o of optionList" [nzValue]="o" [nzLabel]="formatUserOption(o)"></nz-option>
    </nz-select>
    <ng-template #renderTemplate>
      <nz-spin *ngIf="isLoading"></nz-spin>
    </ng-template>
    </div>
        <form nz-form style="padding: 1rem; margin: 1rem; display: flex; flex-direction: row; justify-content: space-around;" [formGroup]="validateForm" (ngSubmit)="submitForm()">  
          <nz-form-item >
            <div>
              <label style="margin-bottom: 6px; margin-left: .5rem; font-size: large;">Day:</label>
            </div>
          <!-- <nz-select nzMode="multiple" nzPlaceHolder="Monday" formControlName="listOfSelectedValue">
            <nz-option
              *ngFor="let option of listOfOption"
              [nzLabel]="option"
              [nzValue]="option"
              [nzHide]="!isNotSelected(option)"
            ></nz-option>
          </nz-select> -->
          <nz-select id="select" formControlName="day" nzAllowClear nzPlaceHolder="Full Time" >   
            <nz-option nzValue="Monday" nzLabel="Monday"></nz-option>
            <nz-option nzValue="Tuesday" nzLabel="Tuesday"></nz-option>        
            <nz-option nzValue="Wednesday" nzLabel="Wednesday"></nz-option>        
            <nz-option nzValue="Thursday" nzLabel="Thursday"></nz-option>        
            <nz-option nzValue="Friday" nzLabel="Friday"></nz-option>        
            <nz-option nzValue="Saturday" nzLabel="Saturday"></nz-option>        
            <nz-option nzValue="Sunday" nzLabel="Sunday"></nz-option>        
        </nz-select>
        </nz-form-item>
        <nz-form-item>
          <div>
            <label style="margin-bottom: 6px; font-size: large;">Slot Starts:</label>
          </div>
    <nz-time-picker
      formControlName="slotStarts"
      [nzUse12Hours]="true"
      (ngModelChange)="log1($event)"
      nzFormat="h:mm a"
    ></nz-time-picker>
        </nz-form-item>
        <nz-form-item>
          <div>
            <label style="margin-bottom: 6px; font-size: large;">Slot Ends:</label>
          </div>
    <nz-time-picker
      formControlName="slotEnds"
      [nzUse12Hours]="true"
      (ngModelChange)="log2($event)"
      nzFormat="h:mm a"
    ></nz-time-picker>
        </nz-form-item>
        </form>
    <div >
        
        <div style="display: flex; justify-content: center;  padding-bottom: 1rem;">
          <button type="submit" nz-button (click)="submitForm()"
          style="font-family: 'GTPressura', sans-serif; background-color: #22c55e; color: #ffffff; border-radius: 0.375rem; border-color: #22c55e; padding-left: 0.75rem; padding-right: 0.75rem; padding-top: 0.25rem; padding-bottom: 0.25rem; width: 8rem; height: 3rem; font-size: 1.25rem; " onmouseover="this.style.backgroundColor='#38a169';" onmouseout="this.style.backgroundColor='#22c55e';"
              [nzType]="'primary'">Update
          </button>
        </div>
    </div>
</div> 
      <div style="padding: 1rem; margin-left: 4px;">
        <h1 style="font-size: 1.875rem; font-weight: bold; padding-bottom: .5rem;">Current Schedule</h1>
        <div *ngIf="!showForm" style="display: flex; justify-content: flex-end; margin-bottom: 1rem;">
            <button type="submit" nz-button
            style="font-family: 'GTPressura', sans-serif; background-color: #22c55e; color: #ffffff; border-radius: 0.375rem; border-color: #22c55e; padding-left: 0.75rem; padding-right: 0.75rem; padding-top: 0.25rem; padding-bottom: 0.25rem; width: 10rem; height: 3rem; font-size: 1.25rem; " onmouseover="this.style.backgroundColor='#38a169';" onmouseout="this.style.backgroundColor='#22c55e';"
                [nzType]="'primary'" (click)="showForm = true">Edit Schedule
            </button>
          </div>
        <!-- <table style="border-collapse: collapse; width: 100%;">
          <thead>
            <tr>
              <th style="border: 1px solid #cbd5e0; padding: 0.5rem;">Employee Id</th>
              <th style="border: 1px solid #cbd5e0; padding: 0.5rem;">Monday</th>
              <th style="border: 1px solid #cbd5e0; padding: 0.5rem;">Tuesday</th>
              <th style="border: 1px solid #cbd5e0; padding: 0.5rem;">Wednesday</th>
              <th style="border: 1px solid #cbd5e0; padding: 0.5rem;">Thursday</th>
              <th style="border: 1px solid #cbd5e0; padding: 0.5rem;">Friday</th>
              <th style="border: 1px solid #cbd5e0; padding: 0.5rem;">Saturday</th>
              <th style="border: 1px solid #cbd5e0; padding: 0.5rem;">Sunday</th>
            </tr>
          </thead>
          <tbody>
            <tr style="text-align: center;">
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">1</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
            </tr>
          </tbody>
          <tbody>
            <tr style="text-align: center;">
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">2</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
            </tr>
          </tbody>
          <tbody>
            <tr style="text-align: center;">
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">3</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
            </tr>
          </tbody>
          <tbody>
            <tr style="text-align: center;">
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">4</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
            </tr>
          </tbody>
          <tbody>
            <tr style="text-align: center;">
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">5</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
            </tr>
          </tbody>
          <tbody>
            <tr style="text-align: center;">
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">6</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
            </tr>
          </tbody>
          <tbody>
            <tr style="text-align: center;">
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">7</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
              <td style="border: 1px solid #cbd5e0; padding: 0.5rem;">8 am - 6 pm</td>
            </tr>
          </tbody>
        </table> -->
      
        <nz-table #basicTable [nzData]="apiData">
          <thead>
            <tr>
              <th>Employee ID</th>
              <th>Monday</th>
              <th>Tuesday</th>
              <th>Wednesday</th>
              <th>Thursday</th>
              <th>Friday</th>
              <th>Saturday</th>
              <th>Sunday</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of basicTable.data">
              <td>{{data.employeeId}}</td>
              <td *ngIf="data.day === 'Monday'">{{ parseDate(data.slotStart) | date: 'hh a' }} - {{ parseDate(data.slotEnds) | date: 'hh a' }}</td>
              <td *ngIf="data.day === 'Tuesday'">{{ parseDate(data.slotStart) | date: 'hh a' }} - {{ parseDate(data.slotEnds) | date: 'hh a' }}</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
          </tbody>
        </nz-table>

      </div>
    
  </div>

  


